2020 IEEE International Conference on Robotics and Automation (ICRA)
31 May - 31 August, 2020. Paris, France
Navigation in the Presence of Obstacles
for an Agile Autonomous Underwater Vehicle
Marios Xanthidis, Nare Karapetyan, Hunter Damron, Sharmin Rahman, James Johnson,
Allison O’Connell, Jason M. O’Kane, and Ioannis Rekleitis
Abstract—Navigation underwater traditionally is done by
keeping a safe distance from obstacles, resulting in “ﬂy-overs”
oftheareaofinterest.Movementofanautonomousunderwater
vehicle (AUV) through a cluttered space, such as a shipwreck
or a decorated cave, is an extremely challenging problem that
has not been addressed in the past. This paper proposes a
novel navigation framework utilizing an enhanced version of
Trajopt for fast 3D path-optimization planning for AUVs. A
sampling-basedcorrectionprocedureensuresthattheplanning
isnotconstrainedbylocalminima,enablingnavigationthrough
narrowspaces.Twodifferentmodalitiesareproposed:planning
with a known map results in efﬁcient trajectories through
clutteredspaces;operatinginanunknownenvironmentutilizes
the point cloud from the visual features detected to navigate Fig.1. Aqua2AUVnavigatingovertheStavronikitashipwreck,Barbados.
efﬁciently while avoiding the detected obstacles. The proposed
approach is rigorously tested, both on simulation and in-pool we present an augmentation of Trajopt [11], a popular path-
experiments, proven to be fast enough to enable safe real-time optimizationopensourcepackagefor(mobile)manipulators,
3D autonomous navigation for an AUV.
to facilitate 3D trajectory planning of an AUV utilizing
either a known map or an online constructed local map. The
I. INTRODUCTION proposed method is realized on an Aqua2 vehicle [12]. The
Trajopt planner is augmented with a sampling-based correc-
This paper addresses the problem of trajectory planning
tion scheme that resolves the local minima problem. Fur-
forunderwaterstructureinspectionandmapping.Underwater
thermore,differentmaprepresentationsweretestedincluding
structure mapping is an important capability applicable to
geometric primitives and point-cloud implementations.
multiple domains: marine archaeology, infrastructure main-
tenance, resource utilization, security, and environmental Fast motion planners, such as KPIECE [13], use physics-
monitoring. While the proposed approach is not limited to based simulators to plan with kinodynamic constraints and
the underwater domain, this work addresses the challenging can solve the planning problem for systems with non-trivial
conditions encountered underwater, with a special focus on dynamics. While previous work [14]–[16] provided an anal-
shipwreck mapping. Underwater mapping has traditionally ysis of the dynamics of the Aqua vehicle, the model is still
focused on acoustic sensors [1]–[4]. However, most inspec- inaccurate and moreover, the on-board computing resources
tions require visual input [5]–[7]. The state-of-the-art in do not allow for utilizing a physics-based simulator online.
autonomous operations is to observe the target structure The proposed method was rigorously tested in simulation
from far enough to avoid navigation in cluttered spaces, and in the pool. Utilizing the Gazebo simulator [17] with an
while remotely controlled operations present entanglement underwater extension that emulates the kinematic behaviour
hazards. As a result, most inspections suffer from gaps due of the Aqua2 vehicle, the tested environments demonstrated
to occlusions, and low-resolution due to the water effects on changesindepth,andattitudeinthreedimensionsforrealiz-
the camera sensor. The presented work enables autonomous ingtheproducedtrajectories.Furthermore,testsatanindoor
operations underwater close to the structure to be inspected; divingpool,withvariousobstaclesetups,veriﬁedthevalidity
before this was only partially possible with teleoperation. of the proposed approach.
Maps of underwater structures such as wrecks, caves, The proposed approach provides contributions in two
dams, and docks are often available either through acoustic conceptual areas: path planning of mobile robots in 3D
sensing [8] or via photogrammetry [9], [10]. In this paper and underwater navigation in cluttered environments. More
speciﬁcally,weaugmentedtheTrajoptpackageenablingop-
A. O’Connell is with the Computer Science Department, Vassar erationsofanautonomousmobilerobotinthreedimensions.
College,Poughkeepsie,NY.TheremainingauthorsarewiththeComputer
We introduced a fast warm-starting method to avoid local
Science and Engineering Department, University of South Carolina,
Columbia,SC,USA[mariosx, nare, hdamron, srahman, minima issues using an RRT-based approach. Furthermore,
jvj1]@email.sc.edu, aoconnell@vassar.edu, we demonstrated the use of Trajopt for online planning
[jokane,yiannisr]@cse.sc.edu
based on convex decomposition of unordered point clouds.
ThisworkwasmadepossiblethroughthegeneroussupportofNational
ScienceFoundationgrants(NSF1513203,1526862,1637876,1849291). The proposed framework enabled underwater operations in
978-1-7281-7395-5/20/$31.00 ©2020 IEEE 892
Authorized licensed use limited to: Heriot-Watt University. Downloaded on September 21,2020 at 04:57:31 UTC from IEEE Xplore.  Restrictions apply. cluttered spaces. In particular, a light-weight geometric nav- Motion Planning
igation framework utilizing the full 3D motion capabilities Map Planned Trajectory Warm Starting
of the Aqua2 AUV, enabled operations with a known map, Bi-TRRT
s
or in unknown areas of cluttered underwater environments. goal Trajopt Optimization
Airnounctmoonenonjumtsnocoutfisosnoupbwesrtiaathtniotvinaislsucoaoflmreipnalele-rtxtiiimatyle,spetavlateennneiwsntigitmhaoanutditorunetpiillniazniennngivniga- ValidPathOptimized  State Costs Invalid AddinMapg Modified Virtual 
  Trajectory  High-Cost  Obstacles
known hydro-dynamics model. Validation Waypoint
s
init
II. RELATEDWORK
Valid Trajectory
In environments with complex dynamics, such as under- Odometry
water, one of the main challenges is to generate safe paths.
Depth Sensor
Severalmethodshavebeenexploredtocorrectthedeviations Path Following
caused by inertia and currents, including the FM* planning CM
system [18]. Other methods rely on observations about the Controller ommanotion
structure of the terrain [19] and satellite imagery [20] to ds Control 
estimate the effects of currents. Genetic algorithms [21] and IMU Low-Level Controller Commands
mixedintegerlinearprogrammingapproaches[22]havealso
been used to support the computation of paths in dynamic Fig.2. Systemarchitecture.
underwater environments.
provide different challenges, both require path planning in
The work of Hernandez et al. [23] provided an online 3D. For an AUV such as Aqua2, whose movements do
sampling based framework for an AUV in 3D, accounting
not correlate exactly with control inputs, planning becomes
alsoforthedynamicsofthesystem.Theproposedframework
even more difﬁcult. Other AUVs have also been used for
although was shown to be capable to work in real-time, it
path planning, such as RAIS [40] and DeepC [41]. Another
needed close to half a minute for producing solutions with
AUV, REMUS [42], used obstacle avoidance speciﬁcally for
clearance guarantees. Moreover, during the online experi-
exploration of shallow waters.
ments the replanning was close to 1Hz but the robot was
The Aqua2 AUVs have a variety of swimming gaits in
constrained to a constant depth reducing the planning space
order to enable tasks such as swimming in a straight line,
to2D.Whenaccountingforcurrents,otherstudies[24],[25]
on the side, in a corkscrew motion, or performing a barrel
utilize sampling-based techniques and a complete dynamic
roll [43]. Visual tags were used to enable the AUV to
modeloftheAUV,butareonlyshowntoworkinuncluttered
navigate over structures [44]. Furthermore, the robot learned
environments with few obstacles.
a reactive controller for navigating over the coral reef while
Another challenge in underwater path planning is to gen- maintaining a safe distance [45], [46].
eratepathsrapidlyenoughtobeabletocomputeandexecute
them online. Green and Kelly demonstrated a branching- III. PROPOSEDAPPROACH
based method for quickly generating safe paths in a 2D The objective of this paper is to develop algorithms that
environment [26] which has since been the basis of sev- enable the Aqua2 robot to navigate reliably and safely
eral optimizations [27]–[30]. Path planning has also been throughadenseﬁeldofobstacles,givenstartandgoalposes
optimized by reducing many candidate paths to equivalence s ands .Figure2presentsanoverviewoftheproposed
init goal
classes [31]. system.
Thoughoptimalsampling-basedtechniques[32]–[35]pro-
A. System Overview
vide near-optimal solutions and have improved over time,
they,ingeneral,requiremorecomputationalresources,more ThetargetsystemistheAqua2amphibiousplatform[47],
time, and often an exhaustive search of the conﬁguration picturedinFigure1.Initsaquaticconﬁguration,Aqua2uses
space. Some studies on online underwater navigation with themotionfromsixﬂippers,eachindependentlyactuatedby
sampling-basedtechniquesquicklygeneratesafepaths,how- anelectricmotor,toswim.Aqua2has6degreesoffreedom,
ever, they are limited to 2D motions [36] or require addi- of which ﬁve are controllable: two directions of translation
tional assumptions regarding the vertical relief [37] without (forward/backward and upward/downward), along with roll,
exploiting the full potential of available 3D motions. pitch and yaw.
In some applications, it is necessary for AUVs to nav- The robot’s primary sensing modality is vision. It is
igate in an environment without global knowledge of the equippedwiththreeiDSUSB3.0UEyecameras:twofacing
environment. In such cases, obstacles are observed, often forward and one in the back. The front-facing cameras are
by stereo vision as has been done on aerial vehicles [38]. used for navigation and data collection. In addition to these
Exploration of an unknown environment by aerial vehi- cameras,Aqua2alsohasanIMUandapressuresensorwhich
cles has been performed using a 3D occupancy grid using are used for controlling the motions and can be utilized for
probabilistic roadmaps (PRM) and the D* Lite algorithm visual-inertial state estimation [48]–[51]. The ﬁelds of view
for planning [39]. Although underwater and aerial domains of the cameras are 120 degrees (horizontal) and 90 degrees
893
Authorized licensed use limited to: Heriot-Watt University. Downloaded on September 21,2020 at 04:57:31 UTC from IEEE Xplore.  Restrictions apply. (vertical) tilted downward by 40 degrees from the horizontal
plane.
B. Trajectory Planning
Motion planning in this context must balance several
competing constraints, including the need for efﬁciency,
the possible need to replan, and the limited computational
poweravailableontherobot(particularlywhenoneconsiders
the other essential tasks of perception, mapping, etc.). In
addition,becauseofitscomplex—yetnotreadilymodeled—
dynamics and kinematics combined with the unpredictable
nature of maritime currents, the system is quite susceptible
to disturbances. Thus, the planner should provide solutions
that satisfy some minimum clearance to avoid collisions.
To satisfy this challenging trade-off, the proposed system (a) (b) (c)
Fig. 3. Path optimization with Trajopt [11] in three different stages: (a)
utilizes an optimization-based planning approach. Speciﬁ-
The initial path is generated by simple interpolation from sinit to sgoal
cally, the implementation uses Trajopt [11], which has been with possibly some states in collision. (b) An intermediate stage during
provenasaveryrobustmethodformanipulatorsandmobile optimization.(c)Theﬁnaltrajectory,shownwiththedistancestotheswept-
outvolumes.
manipulators in 2D. It is computationally efﬁcient and takes
into account not only the states but the complete path Theseparametersrequiredtuningfortheunderwaterenviron-
betweenthemusingthetransitionbetweenstates,contraryto ment and the AUV used; Section IV describes the speciﬁc
alternatives such as CHOMP [52] and STOMP [53]. To the values utilized in our experiments.
bestofauthors’knowledge,Trajopthasnotyetbeenusedfor Our system employs an additional term in the cost to
3Dmotionplanningformobilerobots,norintheunderwater ensure that the robot will not reach the surface, and will
domain, in the past. remainentirelyunderwater.Thecostfunctionc wasapplied
z
The main idea behind Trajopt is to represent the path S on the z coordinate of all the states s ∈ S, where s =
i i
from sinit to sgoal as an ordered list of waypoints, each of [xi,yi,zi,qix,qiy,qiz,qiw], and deﬁned as follows:
which is a pose for the robot. Starting from an initial set of
(
waypoints —generally based on the linear interpolation be- z +ǫ if z >−D
c (z )= i i min (1)
tween sinit and sgoal— Trajopt forms a convex optimization z i 0 otherwise
program,inwhicheachdegreeoffreedomofeachwaypoint
isavariable,theobstaclesareencodedasconstraints,andthe where ǫ > 0. Assuming that on the surface z = 0, the
objective is to minimize a weighted form of the path length. condition in Equation 1 penalizes every state above −Dmin
Animportantadvantageisthat,becauseofthisgeneralform, ensuring that the robot will remain underwater, accounting
onecaninsertadditionalcontent-speciﬁcconstraints,suchas also for potential inaccuracies in control.
a maximum depth.
C. Overcoming Local Minima
1) InputMethods: Trajoptoptimizesthedistancebetween
the swept-out volumes of the robot’s trajectory and the Aproblemthatmanyoptimization-basedmotionplanners,
obstacles; as shown in Figure 3. For efﬁciency, Trajopt includingTrajopt,faceisthepossibilitythattheoptimization
expects the map to be stored in a form where the normal may converge to a local minimum. Though generally rare in
vectors between the robot’s body and the obstacles can be the implemented system, this situation can present a safety
extracted rapidly. One geometric method for presenting the hazard for the robot, because the completed path may not
obstaclestoTrajopt,suitableincaseswheretheenvironment necessarily maintain safe distance from the obstacles. Local
iswell-known,consistsofspecifyingtheobstacleshapesand minima can be present, for example, either (a) when the
locationsasinstancesofasetofbuilt-inprimitives,typically path is passing through an obstacle and there is no free
as rectangular boxes. space in a D radius, or (b) when the path is passing
min
We also implemented a version that utilizes a point cloud through a narrow passage and the desired clearance from
input representation, which can be produced directly from the obstacles cannot be maintained. Typically, such issues
rawsensordata.First,thepointcloudisprovidedasinputto are resolved with warm-starting of the optimization process:
thefastsurfacereconstructionalgorithmofZoltanetal.[54]. afastmotionplannerisusedtogeneratebeforehandasetof
Then, the algorithm approximates the produced mesh via validpathsandthesepathsareusedconsecutivelytoinitialize
a collection of convex polytopes which can be directly the optimization until a valid solution is found. An example
processed by the Trajopt optimizer. ofsuchwork[55]forTrajoptusestheBiT-RRT[56]planner.
2) Constraints: The objective function is parameterized We propose the following novel iterative warm-starting
bycoefﬁcientsforthepathlengthandtheobstacleavoidance approach, using BiT-RRT [56], by inserting virtual obstacles
and by a distance parameter D , measuring the maximum into the planning process. The optimization step works with
min
distance from the obstacles where the cost will be applied. the motion planner in the following manner:
894
Authorized licensed use limited to: Heriot-Watt University. Downloaded on September 21,2020 at 04:57:31 UTC from IEEE Xplore.  Restrictions apply. 1) The optimization result is checked and in case of the desired depth d is calculated as
failure, the waypoint with the highest cost is selected.
(cid:18) z (cid:19)
2) The map used by the motion planner is altered by d=z + 1− sc (cid:0)z −z (cid:1), (3)
adding a virtual obstacle of size Dmin in the position pi−1 zpi−1 pi pi−1
of that waypoint.
where z is the depth of the previous achieved goal (base
3) The planner plans a path avoiding the new high cost pi−1
area of local minimum with a smaller than Dmin casezpi−1 =sinit),zpi thedepthofthecurrentgoal,andzsc
isthecurrentmeasureddepth.Theideaistoensurethelinear
distance from obstacles during collision checks.
change of depth from one position to the other and ensure
4) Thenewpathisusedtoinitializethepathoptimization
linear transitions similar to the ones assumed by Trajopt.
process and the procedure continues if needed.
Regarding the desired orientation, the pitch is adjusted
Thisprocessforcestheplannertoidentifyanalternativepath
automatically from the desired depth and the roll does not
thatavoidsthemostproblematicportion,intermsofthecost
affect the direction of the motion, thus only the computation
function, of the previous path.
of the desired yaw o is needed, with respect to the
yaw
translation error e = p − s . Given the position of the
t i c
D. Trajectory Following
robot, the yaw changes in such a way that the AUV will
1) Localization: The problem of underwater localization always move towards facing the goal.
has proven to be extremely challenging [57], [58] due to the Lastly, assuming the possible deviation is bounded by
lighting variations, hazing, and color loss [59]. We tested D for a given speed and that the optimization was
min
two solution strategies for this problem. successful, the AUV should safely navigate from one goal
Primitive Estimator: A primitive estimator has been to the next one. As a result of the above, given a threshold
employedusingthedepthsensor,theattitudeestimationfrom of Dreached, the goal is declared reached, if the error et is
theIMUandtheexpectedforwardspeedoftheAUV(based less than Dreached and a local minimum is detected, since
on the swimming pattern utilized). Though subject to drift otherwisetherobotwillbeslidingawayduetodisturbances.
over long distances, this estimator has guided the Aqua2
vehicles for a variety of basic maneuvers and swimming
patterns.Duringoperationswithaknownmap,thisprimitive
estimator is utilized to track the planned trajectory.
SVIn: During operations in an unknown environment,
more accurate localization may be useful, in addition to the
required ability to detect nearby obstacles. Visual Inertial (a) (b)
state estimation, introduced by Rahman et al. [51] and Fig. 4. Simulated trajectories executed by the robot in Gazebo. (a) An
later extended to utilize depth measurements and loop-clo- environment with an narrow opening (the ceiling is not shown); (b) A
clutteredenvironmentwithmultiplepipes.
sures[60],isusedforsimultaneouslylocalizingandmapping
nearby obstacles. The resulting point-cloud produced by
SVIn enables the AUV to navigate safely around obstacles.
2) Waypoint seeking: The optimization stage of the pro- IV. EXPERIMENTALRESULTS
posed pipeline produces in a timely manner a path p, as
an ordered set of consecutive goal states that should be Extensive experiments were performed using the Gazebo
sequentially achieved by the robot. A linear PD controller simulator, and in numerous deployments of the Aqua2 AUV
proposedbyMegeretal.[44]isutilized,whichemploysthe at two pools in our university, a shallow swimming pool
IMU and the depth sensor data. This closed-loop controller of dimensions 50m×25m×2m and a deep diving pool of
accepts commands in the form: dimensions25m×15m×4m.Themainobjectiveofthevar-
ious experiments was to demonstrate the reliable navigation
com=hv,h,d,oi, (2) functionality of Aqua2 using the proposed framework. In all
oftheexperimentstheAUVhadaconstantspeedof0.4m/s
in which v is the desired forward linear velocity, h is the — the expected operational speed — and a bounded motion
desired heave (that is, upward or downward linear velocity), with a minimum obstacle avoidance distance of D =
min
d is the desired depth to reach and o the desired orientation 0.6m. Obstacle avoidance and path length coefﬁcients were
for the robot to move in the world frame. The current adjusted to relatively high values 200 and 100, respectively,
framework, for simplicity considers only purely forward favoringsafetyoverpathlengthoptimality,whilethenumber
motion setting h=0. ofwaypointswasdeterminedeitherbythedistancefromthe
The PD controller controls the desired depth by linear currentpositiontothegoal—placingastateevery1.5m—
interpolation. Assuming that the current state of the robot or by the number of states provided by the Trajopt planner.
iss andthecurrentigoalpositionisp intheworldframe, The experiments tested planning on a known map, with a
c i
to guarantee smooth transitions that are bounded inside the focus on efﬁcient trajectories, and online, using the camera
calculated safe swept-out volumes of the optimization stage, for obstacle avoidance and frequent replanning.
895
Authorized licensed use limited to: Heriot-Watt University. Downloaded on September 21,2020 at 04:57:31 UTC from IEEE Xplore.  Restrictions apply. (a) (b) (c) (d)
(e) (f) (g) (h)
Fig.5. Top-rowshowsrepresentativephotosfromtherealdeploymentinthepoolforfourdifferentenvironments.Theﬁrstthreeenvironmentswherein
thedeepdivingpoolandthefourthintheshallowerswimmingpool:(a)AUVpassesbetweentheverticalobstaclesandoverthehorizontalobstacle;(b)
theplannergeneratesa45◦ rollfortheAUVwhilepassingbetweenthetwoverticalobstaclesandoverthediagonalone;(c)AUVgoesundertheﬁrst,
overthesecond,andunderthethirdhorizontalobstacle,andtheplannerguidesaﬂatroll;(d)AUVagainhasa45◦ rollpassingaroundthethreevertical
obstacles.ThesecondrowshowsaviewoftheexecutedpathinGazebofordemonstrationpurposes.
A. Known Map — Ofﬂine Planning
During planning with a known map, the input map was
a set of geometric primitives (planes, boxes, cylinders, etc.)
and the iterative warm-starting process was used. All plans
were produced in less than half a second.
1) Simulated Environment: Two different environments
are presented here highlighting different challenges for Tra-
jopt. In the ﬁrst environment, called the Window environ- (a)
ment, two rooms, separated by a wall with an opening
(window) between them and open to one side demonstrates
path optimality; see Figure 4(a). The original path results in
alocalminimum.Aftertheiterativewarm-startingmethodis
usedthesolutionthroughthewindowisfound.Furthermore,
for this experiment the AUV has to keep a horizontal pose
during motions that causes larger drifting from inertia. For
(b)
this purpose, in this single case we increased D to 1m.
min
The second environment, called the Cluttered environ- Fig.6. ErrordiagramsfortheRoom(a)andtheCluttered(b)environment,
ment,focusesmoreonthecapabilityofourmethod,inherited asmeasuredfromthesimulation.Thered squaresindicatethelocalgoals
achieved,andtheredlinemarksDmin,whereerrorslargerthanthatshould
from Trajopt, to minimize oscillation while passing through
beconsideredunsafe.
a sequence of obstacles that need accurate motions with fast
orientationchanges;seeFigure4(b).Inthisenvironmentnot
onlywastherolladjustedduringoptimizationadaptingtothe
motion, but also the Aqua2 is guided to pass in a parallel
motion between each pair of pillars, thus maximizing the
distance from both of them, for increased safety.
Safe navigation for the Aqua2 is achieved only if during
the motion the trajectory following method does not violate
the assumed clearance D by the planning process. For
min
these challenging scenarios, where the robot changes orien-
tationsfast,theoscillationsareshowninFigure6.Theerror
at time t, e , is calculated as the Euclidean distance of the
t Fig. 7. Navigating inside a shipwreck model in simulation. Model of
measured simulation odometry sc, to the line formed by the “Shipwreck,HooeLake,Plymouth”fromSketchfab.
previous pi−1 and the current local goal pi: 2) Real: Fourdifferentenvironmentswereusedatthetwo
pools in our university, demonstrating operations with the
|(s −p )×(s −p )|
e = c i−1 c i (4) Aqua2 AUV; see Figure 5. The placement of the obstacles
t |pi−pi−1| followed the created map used as input to the augmented
896
Authorized licensed use limited to: Heriot-Watt University. Downloaded on September 21,2020 at 04:57:31 UTC from IEEE Xplore.  Restrictions apply. (a) (b) (c)
Fig.8. (a),(b)showrepresentativephotosfromthedeploymentsinthepoolinanunknownenvironment.Pleasenotetheplastictoysspreadatthebottom
ofthepooltoproducedetectablefeaturesinafeaturelesspool.(a)Avoidingtwoobstaclesintheshallowswimmingpool;(b)Avoidingtwoobstaclesin
the deep diving pool. (c) presents the online map produced by SVIn [51] as a screenshot of RViz for the environments of (b), the robot avoid the ﬁrst
cylinder,movesforwardandthenavoidsthesecond,whileusingthefeaturesfromthebottomofthepooltolocalize.
Trajopt planner. In the ﬁrst environment, the Aqua2 was constrained at constant depth to maintain tracking using the
forcedtomaintainanattitudefacingtheﬂoor,asituationthat features on the ﬂoor. The two environments, at the shallow
maximizes drift during yaw changes. The robot was able to and deep pool, used two vertical obstacles resulting in
successfully avoid all the obstacles and quickly self-correct similar obstacle avoidance trajectories. Figure 8(c) presents
itsorientation;seeFigure5(a)foraimageoftheAUVduring the overall recorded trajectory and features detected from
operations and Figure 5(e) for an overview of the trajectory. SVIn[60].DuringoneoftheexperimentstheAUV’smotion
For the other three environments, the attitude of the AUV brought it towards a diver recording the experiment, who, to
was optimized by the planner. In the second environment the diver’s relief, was treated as another obstacle and was
the robot avoided the two vertical pipes and passed over avoided.
the diagonal one; see Figure 5(b),(f). Three horizontal pipes
V. CONCLUSIONS
wereusedtoforcetheAUVincontinuousdepthchanges;see
Thispaperdemonstratednovelcapabilitiesforunderwater
Figure 5(c),(g). Finally, three vertical pipes resulted again in
navigation through cluttered spaces. The proposed frame-
obstacle avoidance with a roll at 45◦; see Figure 5(d),(h).
work was able to plan and successfully execute efﬁcient
B. Sensor based Planning — Online trajectories,whileavoidingobstaclesandtakingintoaccount
the kinematic constraints of the vehicle, in both known and
The deployment of the proposed framework online high-
unknown environments. Numerous simulations highlighted
lighted some computational challenges. First, the state esti-
the abilities of this agile platform to navigate in narrow
mationconsumesalargefractionofthecomputingresources.
spaces. Experiments at the pool demonstrated the feasibility
Second, the most computationally expensive component of
of the proposed method and highlighted challenge.
the motion planning pipeline is the convex decomposition
step, using approximately 70 − 80% of the total planning
time. For efﬁciency, the convex decomposition parameters
were adjusted to produce many small convex polyhedra,
instead of a few large ones. A history of the observations
waskepttoaccountforthelimitedﬁeldofviewoftheAUV.
Inallcasesthereplanningfrequencywasonaverageat1Hz.
1) SimulatedEnvironment: Themodel“Shipwreck,Hooe
Lake, Plymouth” from Sketchfab1 was simpliﬁed and used
in the Gazebo simulator. For computational efﬁciency, no
texture was used in the simulator and the basic point-
cloud was acquired from the model using a resolution of
100×75 points. The AUV was guided through the inside Fig.9. Aqua2AUVmovingthroughawreck.
of the shipwreck, while avoiding the observed obstacles; see
Thepresentedresults,combinedwithrecentadvancements
Figure7.ThecomplexenvironmentpresentedinFigure4(b)
intherobustnessofunderwaterstateestimation[61]andwith
was used for online navigation resulting in similar results.
new advanced gaits for the Aqua2 vehicles [43], will enable
2) Real: Additionalrealpoolexperimentswereconducted
future autonomous exploration of environments not previ-
using state estimation from the robust underwater SLAM
ously accessible to robots, such as shipwrecks and caves.
package SVIN [60] with additional sand-toys weighted and
For example, Figure 9 presents an enclosed environment at
placed on the ﬂoor to improve the odometry estimation
the Pamir shipwreck near Barbados, for which no prior map
together with obstacles to test obstacle avoidance; see Fig-
exists. In the past, an AUV was deployed there to perform
ure 8. The same conﬁguration was used with the online
a simple straight line transect. Future work will test the
simulation framework with the difference that the AUV was
proposed approach in deployments to more fully explore
1http://sketchfab.com/ such environments.
897
Authorized licensed use limited to: Heriot-Watt University. Downloaded on September 21,2020 at 04:57:31 UTC from IEEE Xplore.  Restrictions apply. REFERENCES currentﬁelds:Applicationtoglidersinthewesternmediterraneansea,”
JournalofMaritimeResearch,vol.6,no.2,pp.5–22,2009.
[1] M. Gary, N. Fairﬁeld, W. C. Stone, D. Wettergreen, G. Kantor, and [21] A.Alvarez,A.Caiti,andR.Onken,“Evolutionarypathplanningfor
J.M.Sharp,Jr,“3dmappingandcharacterizationofsistemazacato´n autonomous underwater vehicles in a variable ocean,” IEEE Journal
fromdepthx(deepphreaticthermalexplorer),”inSinkholesandthe ofOceanicEngineering,vol.29,no.2,pp.418–429,2004.
EngineeringandEnvironmentalImpactsofKarst,2008,pp.202–212. [22] N. K. Yilmaz, C. Evangelinos, P. F. Lermusiaux, and N. M. Pa-
[2] H. Johannsson, M. Kaess, B. Englot, F. Hover, and J. Leonard, trikalakis, “Path planning of autonomous underwater vehicles for
“Imaging sonar-aided navigation for autonomous underwater harbor adaptive sampling using mixed integer linear programming,” IEEE
surveillance,”in2010IEEE/RSJInternationalConferenceon Intelli- JournalofOceanicEngineering,vol.33,no.4,pp.522–537,2008.
gentRobotsandSystems. IEEE,2010,pp.4396–4403. [23] J.D.Herna´ndez,E.Vidal,M.Moll,N.Palomeras,M.Carreras,and
[3] P.V.Teixeira,F.S.Hover,J.J.Leonard,andM.Kaess,“Multibeam L. E. Kavraki, “Online motion planning for unexplored underwater
dataprocessingforunderwatermapping,”in2018IEEE/RSJInterna- environmentsusingautonomousunderwatervehicles,”JournalofField
tionalConferenceonIntelligentRobotsandSystems(IROS). IEEE, Robotics,vol.36,no.2,pp.370–396,2019.
2018,pp.1877–1884. [24] J. J. H. Lee, C. Yoo, R. Hall, S. Anstee, and R. Fitch, “Energy-
[4] R. Przeslawski, S. Foster, J. Monk, T. Langlois, V. Lucieer, and optimalkinodynamicplanningforunderwaterglidersinﬂowﬁelds,”
R.Stuart-Smith,“Comparativeassessmentofseaﬂoorsamplingplat- inAustralasianConferenceonRoboticsandAutomation,ACRA,2017.
forms.reporttothenationalenvironmentalscienceprogramme,”2018. [25] E.Vidal,M.Moll,N.Palomeras,J.D.Herna´ndez,M.Carreras,and
[5] A. Abadie, P. Boissery, and C. Viala, “Georeferenced underwater L. E. Kavraki, “Online multilayered motion planning with dynamic
photogrammetry to map marine habitats and submerged artiﬁcial constraints for autonomous underwater vehicles,” in 2019 Interna-
structures,”ThePhotogrammetricRecord,vol.33,no.164,pp.448– tionalConferenceonRoboticsandAutomation(ICRA). IEEE,2019,
469,2018. pp.8936–8942.
[6] P. Drap, “Underwater photogrammetry for archaeology,” in Special [26] C.J.GreenandA.Kelly,“Towardoptimalsamplinginthespaceof
ApplicationsofPhotogrammetry. IntechOpen,2012. paths.”inISRR. Citeseer,2007,pp.281–292.
[7] W. Figueira, R. Ferrari, E. Weatherby, A. Porter, S. Hawes, and
[27] R. A. Knepper and M. T. Mason, “Empirical sampling of path sets
M. Byrne, “Accuracy and precision of habitat structural complexity
forlocalareamotionplanning,”inExperimentalRobotics. Springer,
metrics derived from underwater photogrammetry,” Remote Sensing,
2009,pp.451–462.
vol.7,no.12,pp.16883–16900,2015.
[28] ——,“Real-timeinformedpathsamplingformotionplanningsearch,”
[8] J. J. Leonard and H. F. Durrant-Whyte, Directed sonar sensing for
The International Journal of Robotics Research, vol. 31, no. 11, pp.
mobilerobotnavigation. SpringerScience&BusinessMedia,2012,
1231–1250,2012.
vol.175.
[29] M.Pivtoraiko,R.A.Knepper,andA.Kelly,“Differentiallyconstrained
[9] F. Menna, E. Nocerino, and F. Remondino, “Photogrammetric mod-
mobile robot motion planning in state lattices,” Journal of Field
elling of submerged structures: inﬂuence of underwater environment
Robotics,vol.26,no.3,pp.308–333,2009.
and lens ports on three-dimensional (3d) measurements,” In latest
[30] M.S.Branicky,R.A.Knepper,andJ.J.Kuffner,“Pathandtrajectory
developments in reality-based 3D surveying and modelling, MDPI,
diversity:Theoryandalgorithms,”inRoboticsandAutomation,2008.
Basel,Switzerland,pp.279–303,2018.
ICRA 2008. IEEE International Conference on. IEEE, 2008, pp.
[10] P. Agraﬁotis, G. I. Drakonakis, D. Skarlatos, and A. Georgopoulos,
1359–1364.
“Underwaterimageenhancementbeforethree-dimensional(3d)recon-
[31] R.A.Knepper,S.S.Srinivasa,andM.T.Mason,“Towardadeeper
structionandorthoimageproductionsteps:Isitworth,”LatestDevel-
understanding of motion alternatives via an equivalence relation on
opments in Reality-Based 3D Surveying and Modelling; Remondino,
localpaths,”TheInternationalJournalofRoboticsResearch,vol.31,
F.,Georgopoulos,A.,Gonza´lez-Aguilera,D.,Agraﬁotis,P.,Eds,2018.
no.2,pp.167–186,2012.
[11] J.Schulman,J.Ho,A.X.Lee,I.Awwal,H.Bradlow,andP.Abbeel,
[32] S.KaramanandE.Frazzoli,“Incrementalsampling-basedalgorithms
“Finding locally optimal, collision-free trajectories with sequential
foroptimalmotionplanning,”RoboticsScienceandSystemsVI,vol.
convexoptimization,”inRobotics:scienceandsystems,vol.9,no.1.
104,no.2,2010.
Citeseer,2013,pp.1–10.
[12] G. Dudek, M. Jenkin, C. Prahacs, A. Hogue, J. Sattar, P. Giguere, [33] J. D. Gammell, S. S. Srinivasa, and T. D. Barfoot, “Informed rrt*:
A. German, H. Liu, S. Saunderson, A. Ripsman, S. Simhon, L. A. Optimalsampling-basedpathplanningfocusedviadirectsamplingof
Torres-Mendez, E. Milios, P. Zhang, and I. Rekleitis, “A visually an admissible ellipsoidal heuristic,” in 2014 IEEE/RSJ International
guided swimming robot,” in IEEE/RSJ International Conference on ConferenceonIntelligentRobotsandSystems. IEEE,2014,pp.2997–
IntelligentRobotsandSystems(IROS),EdmontonAB,Canada,Aug. 3004.
2005,pp.1749–1754. [34] L. Janson, E. Schmerling, A. Clark, and M. Pavone, “Fast marching
[13] I. A. S¸ucan and L. E. Kavraki, “Kinodynamic motion planning tree: A fast marching sampling-based method for optimal motion
by interior-exterior cell exploration,” in Algorithmic Foundation of planning in many dimensions,” The International journal of robotics
RoboticsVIII. Springer,2009,pp.449–464. research,vol.34,no.7,pp.883–921,2015.
[14] C.Georgiades,M.Nahon,andM.Buehler,“Simulationofanunder- [35] J. D. Gammell, S. S. Srinivasa, and T. D. Barfoot, “Batch informed
waterhexapodrobot,”OceanEngineering,vol.36,no.1,pp.39–47, trees (bit*): Sampling-based optimal planning via the heuristically
2009. guided search of implicit random geometric graphs,” in 2015 IEEE
[15] P.Giguere,C.Prahacs,andG.Dudek,“Characterizationandmodeling InternationalConferenceonRoboticsandAutomation(ICRA). IEEE,
of rotational responses for an oscillating foil underwater robot,” in 2015,pp.3067–3074.
2006 IEEE/RSJ International Conference on Intelligent Robots and [36] J.D.Herna´ndez,M.Moll,E.Vidal,M.Carreras,andL.E.Kavraki,
Systems. IEEE,2006,pp.3000–3005. “Planning feasible and safe paths online for autonomous underwater
[16] N. Plamondon and M. Nahon, “Trajectory tracking controller for an vehiclesinunknownenvironments,”in2016IEEE/RSJInternational
underwater hexapod vehicle,” in OCEANS 2008. IEEE, 2008, pp. ConferenceonIntelligentRobotsandSystems(IROS). IEEE,2016,
1–8. pp.1313–1320.
[17] N.KoenigandA.Howard,“Designanduseparadigmsforgazebo,an [37] E. Vidal, J. D. Herna´ndez, N. Palomeras, and M. Carreras, “Online
open-source multi-robot simulator,” in 2004 IEEE/RSJ International robotic exploration for autonomous underwater vehicles in unstruc-
ConferenceonIntelligentRobotsandSystems(IROS)(IEEECat.No. tured environments,” in 2018 OCEANS-MTS/IEEE Kobe Techno-
04CH37566),vol.3. IEEE,2004,pp.2149–2154. Oceans(OTO). IEEE,2018,pp.1–4.
[18] C.Petres,Y.Pailhas,P.Patron,Y.Petillot,J.Evans,andD.Lane,“Path [38] L.Zhu,X.Cheng,andF.-G.Yuan,“A3dcollisionavoidancestrategy
planningforautonomousunderwatervehicles,”IEEETransactionson foruavwithphysicalconstraints,”Measurement,vol.77,pp.40–49,
Robotics,vol.23,no.2,pp.331–341,2007. 2016.
[19] S.Williams,G.Dissanayake,andH.Durrant-Whyte,“Towardsterrain- [39] S. Hrabar, “3d path planning and stereo-based obstacle avoidance
aidednavigationforunderwaterrobotics,”AdvancedRobotics,vol.15, for rotorcraft uavs,” in 2008 IEEE/RSJ International Conference on
no.5,pp.533–549,2001. IntelligentRobotsandSystems. IEEE,2008,pp.807–814.
[20] B. Garau, M. Bonet, A. Alvarez, S. Ruiz, and A. Pascual, “Path [40] G. Antonelli, S. Chiaverini, R. Finotello, and R. Schiavon, “Real-
planning for autonomous underwater vehicles in realistic oceanic time path planning and obstacle avoidance for rais: an autonomous
898
Authorized licensed use limited to: Heriot-Watt University. Downloaded on September 21,2020 at 04:57:31 UTC from IEEE Xplore.  Restrictions apply. underwater vehicle,” IEEE Journal of Oceanic Engineering, vol. 26, Macau, (IROS ICROS Best Application Paper Award Finalist), Nov.
no.2,pp.216–227,2001. 2019,pp.1861–1868.
[41] M.Eichhorn,“Areactiveobstacleavoidancesystemforanautonomous [61] ——, “Contour based reconstruction of underwater structures using
underwatervehicle,”inIFACworldcongress,2005,pp.3–8. sonar, visual, inertial, and depth sensor,” in IEEE/RSJ International
[42] L. R. Fodrea and A. J. Healey, “Obstacle avoidance control for the Conference on Intelligent Robots and Systems (IROS), Macau, Nov.
remus autonomous underwater vehicle,” IFAC Proceedings Volumes, 2019,pp.8048–8053.
vol.36,no.4,pp.103–108,2003.
[43] D.Meger,J.C.G.Higuera,A.Xu,P.Giguere,andG.Dudek,“Learn-
ing legged swimming gaits from experience,” in IEEE International
Conference on Robotics and Automation (ICRA). IEEE, 2015, pp.
2332–2338.
[44] D. Meger, F. Shkurti, D. Corts Poza, P. Gigure, and G. Dudek, “3d
trajectorysynthesisandcontrolforaleggedswimmingrobot,”in2014
IEEE/RSJInternationalConferenceonIntelligentRobotsandSystems,
Sep.2014,pp.2257–2264.
[45] T.MandersonandG.Dudek,“Gpu-assistedlearningonanautonomous
marine robot for vision based navigation and image understanding,”
inMTS/IEEEOCEANS,Charleston,SC,USA,Oct.2018.
[46] T.Manderson,J.GamboaHiguera,R.Cheng,andG.Dudek,“Vision-
basedautonomousunderwaterswimmingindensecoralforcombined
collisionavoidanceandtargetselection,”inProceedingsofIEEE/RSJ
International Conference on Intelligent Robots and Systems (IROS),
2018.
[47] G. Dudek, P. Giguere, C. Prahacs, S. Saunderson, J. Sattar, L.-A.
Torres-Mendez,M.Jenkin,A.German,A.Hogue,A.Ripsman,etal.,
“Aqua:Anamphibiousautonomousrobot,”Computer,vol.40,no.1,
pp.46–53,2007.
[48] G. Huang, “Visual-inertial navigation: A concise review,” in Proc.
International Conference on Robotics and Automation, Montreal,
Canada,May2019.
[49] F.Shkurti,I.Rekleitis,M.Scaccia,andG.Dudek,“Stateestimation
ofanunderwaterrobotusingvisualandinertialinformation,”inProc.
IROS,2011,pp.5054–5060.
[50] A.I.MourikisandS.I.Roumeliotis,“Amulti-stateconstraintKalman
ﬁlterforvision-aidedinertialnavigation,”inProc.ICRA. IEEE,2007,
pp.3565–3572.
[51] S. Rahman, A. Quattrini Li, and I. Rekleitis, “Sonar Visual Inertial
SLAMofUnderwaterStructures,”inIEEEInternationalConference
on Robotics and Automation, Brisbane, Australia, May 2018, pp.
5190–5196.
[52] N. Ratliff, M. Zucker, J. A. Bagnell, and S. Srinivasa, “Chomp:
Gradientoptimizationtechniquesforefﬁcientmotionplanning,”2009.
[53] M. Kalakrishnan, S. Chitta, E. Theodorou, P. Pastor, and S. Schaal,
“Stomp: Stochastic trajectory optimization for motion planning,” in
2011 IEEE international conference on robotics and automation.
IEEE,2011,pp.4569–4574.
[54] Z. C. Marton, R. B. Rusu, and M. Beetz, “On Fast Surface Recon-
structionMethodsforLargeandNoisyDatasets,”inProceedingsofthe
IEEEInternationalConferenceonRoboticsandAutomation(ICRA),
Kobe,Japan,May12-172009.
[55] L.Li,“Birrtopt:Acombinedsoftwareframeworkformotionplanning
appliedonatlasrobot,”2016.
[56] L. Jaillet, J. Cortes, and T. Simeon, “Transition-based rrt for path
planningincontinuouscostspaces,”in2008IEEE/RSJInternational
ConferenceonIntelligentRobotsandSystems,Sep.2008,pp.2145–
2150.
[57] B. Joshi, S. Rahman, M. Kalaitzakis, B. Cain, J. Johnson,
M. Xanthidis, N. Karapetyan, A. Hernandez, A. Quattrini Li,
N. Vitzilaios, and I. Rekleitis, “Experimental Comparison of Open
Source Visual-Inertial-Based State Estimation Algorithms in the
Underwater Domain,” in IEEE/RSJ International Conference on
Intelligent Robots and Systems (IROS), Macau, Nov. 2019, pp.
7221–7227.[Online].Available:https://arxiv.org/abs/1904.02215
[58] A. Quattrini Li, A. Coskun, S. M. Doherty, S. Ghasemlou, A. S.
Jagtap, M. Modasshir, S. Rahman, A. Singh, M. Xanthidis, J. M.
O’Kane, and I. Rekleitis, “Experimental comparison of open source
visionbasedstateestimationalgorithms,”inInternationalSymposium
ofExperimentalRobotics(ISER),Tokyo,Japan,Mar.2016.
[59] S. Skaff, J. Clark, and I. Rekleitis, “Estimating surface reﬂectance
spectraforunderwatercolorvision,”inBritishMachineVisionCon-
ference(BMVC),Leeds,U.K.,Sep.2008,pp.1015–1024.
[60] S.Rahman,A.QuattriniLi,andI.Rekleitis,“AnUnderwaterSLAM
SystemusingSonar,Visual,Inertial,andDepthSensor,”inIEEE/RSJ
International Conference on Intelligent Robots and Systems (IROS),
899
Authorized licensed use limited to: Heriot-Watt University. Downloaded on September 21,2020 at 04:57:31 UTC from IEEE Xplore.  Restrictions apply. 